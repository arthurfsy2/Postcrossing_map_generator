<!DOCTYPE html>
<html>
  <head>
    <title>æ˜ä¿¡ç‰‡æ•…äº‹ä¸Šä¼ </title>
    <link rel="stylesheet" href="./src/bootstrap.min.css" />
    <style>
      /* åœ¨è¿™é‡Œæ·»åŠ æ‚¨çš„CSSæ ·å¼ */
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background-color: #f5f5f5;
        color: #333;
        text-align: center;
        font-size: 1.5em;
        margin: 0;
        margin-top: 1em;
      }

      h3 {
        color: #000000;
        text-shadow: 0px 0px 16px #ffe476;
      }

      .margin-top-20px {
        margin-top: 20px;
      }

      footer {
        --mask: radial-gradient(22.36px at 50% 30px, #000 99%, #0000 101%)
            calc(50% - 20px) 0/40px 100%,
          radial-gradient(22.36px at 50% -20px, #0000 99%, #000 101%) 50% 10px/40px
            100% repeat-x;
        -webkit-mask: var(--mask);
        mask: var(--mask);
        background-color: #ffe6b1;
        padding-top: 20px;
        padding-bottom: 10px;
        text-align: center;
        font-size: 0.8em;
      }

      .language-switcher {
        position: absolute;
        top: 10px;
        right: 10px;
      }

      .language-switcher .dropdown-menu {
        min-width: 5rem;
      }
    </style>

    <script>
      window.onload = function () {
        var form = document.getElementById("uploadForm");
        document
          .getElementById("run-script")
          .addEventListener("click", function (e) {
            e.preventDefault();
            form.dispatchEvent(new Event("submit"));
          });

        form.addEventListener("submit", function (e) {
          e.preventDefault();
          var formData = new FormData(this);
          fetch("/run-script", {
            method: "POST",
            body: formData,
          })
            .then((response) => response.json())
            .then((data) => {
              alert("æç¤ºï¼š\n" + data.output);
              location.reload();
            })
            .catch((error) => console.error("Error:", error));
        });
      };
    </script>
  </head>
  <body>
    <img
      src="./src/logo.png"
      alt="Postcrossing logo"
      style="width: 50%; height: auto"
    />
    <div class="container">
      <h1 class="text-center">ä¸Šä¼ æ˜ä¿¡ç‰‡æ•…äº‹</h1>
      <form
        id="uploadForm"
        method="post"
        enctype="multipart/form-data"
        class="form-container"
      >
        <div class="form-group mb-3">
          <input
            type="text"
            class="form-control"
            id="card_id"
            name="card_id"
            placeholder="è¯·è¾“å…¥å¡ç‰‡ID"
          />
        </div>
        <div class="form-group mb-3">
          <textarea
            class="form-control"
            id="content_original"
            name="content_original"
            placeholder="è¯·è¾“å…¥æ˜ä¿¡ç‰‡èƒŒé¢æ–‡å­—ï¼ˆåŸå§‹å†…å®¹ï¼‰"
            rows="5"
          ></textarea>
        </div>
        <div class="form-group mb-3">
          <input type="file" id="file" name="file" class="form-control-file" />
        </div>
        <div class="text-center">
          <button id="run-script" class="btn btn-primary mt-3">æäº¤</button>
        </div>
      </form>
    </div>
    <footer>
      <p>ğŸ›ˆæœ¬é¡¹ç›®ä¸postcrossingå®˜æ–¹æ— å…³ï¼ä¸”æœ¬ç½‘ç«™ä¸ä¼šå­˜å‚¨ä½ çš„ä¸ªäººæ•°æ®ã€‚</p>
      <p>æœ¬ç½‘ç«™éœ€è¦è‡ªè¡Œéƒ¨ç½²ï¼Œæ–¹å¯åŒæ­¥ä¸ªäººæ•°æ®</p>
      <div class="text-center">
        æœ¬é¡µé¢ç”±<a
          class="text-dark fab fa-github"
          href="https://github.com/arthurfsy2/PostCrossingRecap_cn"
          target="_blank"
          >arthurfsy2/Postcrossing_map_generator</a
        >ç”Ÿæˆ
      </div>
    </footer>
  </body>
</html>
